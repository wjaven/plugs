angular.module('ngAlert',[]).factory('alertService',['$rootScope','$timeout',function(e,f){return{"alertService":function(){var d={};d.showAlert=function(a,b){e.alertMessage=a;if(b){f(function(){e.closeAlert()},b)}};d.showConfirm=function(a,b){e.alertMessage=a;e.showConfirmFlag=true;d.callback=b};d.showPrompt=function(a,b,c){e.alertMessage=a;e.showPromptFlag=true;e.alertInput=b;d.callback=c};e.confirmAlert=function(a,b){d.callback(b);e.closeAlert()};e.promptAlert=function(a,b,c){if(b){if(!c||!c.trim()){return}else{b=c.trim()}}d.callback(b);e.alertInput='';e.closeAlert()};e.closeAlert=function(){e.alertMessage=undefined;e.showPromptFlag=e.showConfirmFlag=false};e.stopEvent=function(a){a.stopPropagation()};return d}};}]).directive("alertDir",function(){return{template:'<div class="ng-cloak alert-container" ng-show="alertMessage" ng-click="closeAlert()"><div class="alert-box" ng-click="stopEvent($event)">'+'<div class="alert-message" ng-bind="alertMessage"></div>'+'<div class="alert-prompt" ng-show="showPromptFlag">'+'<input type="text" ng-model="alertInput">'+'<div class="alert-confirm"><button ng-click="promptAlert($event,false)">取消</button><button ng-click="promptAlert($event,true,alertInput)">确认</button></div>'+'</div>'+'<div class="alert-confirm" ng-show="showConfirmFlag">'+'<button ng-click="confirmAlert($event,false)">取消</button>'+'<button ng-click="confirmAlert($event,true)">确认</button>'+'</div>'+'</div></div>'}});
