var wslider=function(f){var g=document.querySelector(f.id),auto=f.auto?f.auto:true,interval=f.interval?f.interval:3000,step=f.step&&f.step>=5&&f.step<=30?f.step:10,ul=g.querySelector('.imgs'),lis=ul.querySelectorAll("li"),prevbtn=g.querySelector('.prevbtn'),nextbtn=g.querySelector('.nextbtn');ul.appendChild(lis[0].cloneNode(true));lis=ul.querySelectorAll("li");var h=lis[0].offsetWidth;var j=lis.length;ul.style.width=h*j+'px';var k='';for(var i=0;i<j-1;i++){k+='<li index="'+i+'">‚óè</li>'}var l=document.createElement("ul");l.className='dots';l.innerHTML=k;g.appendChild(l);var m=l.querySelectorAll('li');var n=0;m[n].className='active';var o=false;prevbtn.onclick=function(){if(o){return}if(n-1<0){ul.style.left=-h*(j-1)+'px';n=j-1}n--;move(h);showdots()}nextbtn.onclick=function(){if(o){return}if(n+1>=j){ul.style.left='0px';n=0}n++;move(-h);showdots()}for(var i=0;i<j-1;i++){m[i].onclick=function(){if(o){return}if(this.className=="active"){return}var a=this.getAttribute('index');var b=-h*(a-n);move(b);n=a;showdots()}}if(auto){autoplay();g.onmouseover=stop;g.onmouseout=autoplay}var p;function autoplay(){if(p){clearTimeout(p)}p=setTimeout(function(){nextbtn.onclick();autoplay()},interval)}function stop(){clearTimeout(p)}function move(c){o=true;var d=ul.offsetLeft+c;var e=function(){var a=ul.offsetLeft;var b=(d-a)/step;b=b>0?Math.ceil(b):Math.floor(b);if((c>0&&a<d)||(c<0&&a>d)){ul.style.left=a+b+'px';setTimeout(e,10)}else{o=false}}e()}function showdots(){for(var i=0;i<j-1;i++){if(m[i].className=='active'){m[i].className='';break}}m[n>=j-1?0:n].className='active'}};
