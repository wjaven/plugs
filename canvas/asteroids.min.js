(function(){var r=document.getElementById("canvas");var s=r.getContext("2d");var t,ch;window.onresize=resizeCanvas;function resizeCanvas(){var w=window.innerWidth,h=window.innerHeight;r.width=w;r.height=h;t=w;ch=h}resizeCanvas();var u=true;var v=document.getElementById("startAnimation");var z=document.getElementById("stopAnimation");v.style.display='none';v.onclick=function(){v.style.display='none';z.style.display='block';u=true;animate()};z.onclick=function(){v.style.display='block';z.style.display='none';u=false};var A=function(x,y,a,b,c,d,e,f){this.x=x;this.y=y;this.radius=a;this.mass=b;this.vX=c;this.vY=d;this.aX=e;this.aY=f};var B=new Array();for(var i=0;i<15;i++){var x=20+(Math.random()*(t-40));var y=20+(Math.random()*(ch-40));var C=20+Math.random()*10;var D=C/2;var E=Math.random()*4-2;var F=Math.random()*4-2;var G=0;var H=0;B.push(new A(x,y,C,D,E,F,G,H))}function animate(){s.clearRect(0,0,t,ch);s.fillStyle="rgb(255,255,255)";for(var i=0;i<B.length;i++){var a=B[i];for(var j=i+1;j<B.length;j++){var b=B[j];var c=b.x-a.x;var d=b.y-a.y;var e=Math.sqrt((c*c)+(d*d));if(e<a.radius+b.radius){var f=Math.atan2(d,c);var g=Math.sin(f);var h=Math.cos(f);var x=0,y=0;var k=c*h+d*g;var l=d*h-c*g;var m=a.vX*h+a.vY*g;var n=a.vY*h-a.vX*g;var o=b.vX*h+b.vY*g;var p=b.vY*h-b.vX*g;var q=m-o;m=((a.mass-b.mass)*m+2*b.mass*o)/(a.mass+b.mass);o=q+m;k=x+(a.radius+b.radius);a.x=a.x+(x*h-y*g);a.y=a.y+(y*h+x*g);b.x=a.x+(k*h-l*g);b.y=a.y+(l*h+k*g);a.vX=m*h-n*g;a.vY=n*h+m*g;b.vX=o*h-p*g;b.vY=p*h+o*g}}s.beginPath();if(Math.abs(a.vX)<10){a.vX+=a.aX}if(Math.abs(a.Y)<10){a.vY+=a.aY}a.x+=a.vX;a.y+=a.vY;if(a.x-a.radius<0){a.x=a.radius;a.vX*=-1;a.aX*=-1}else if(a.x+a.radius>t){a.x=t-a.radius;a.vX*=-1;a.aX*=-1}if(a.y-a.radius<0){a.y=a.radius;a.vY*=-1;a.aY*=-1}else if(a.y+a.radius>ch){a.y=ch-a.radius;a.vY*=-1;a.aY*=-1}s.arc(a.x,a.y,a.radius,0,Math.PI*2,false);s.closePath();s.fill()}if(u){setTimeout(animate,33)}}animate()})();
