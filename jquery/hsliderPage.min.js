$.extend($.fn,{hsliderPage:function(d){var e=d.showlen,w=d.itemw,style=d.style;var f=$(this).find(".hsliderlist"),aLi=$(f).children(),prevbtn=$(this).find(".prevbtn"),nextbtn=$(this).find(".nextbtn"),len=$(aLi).length,flag=0,time=len-e,page=$(this).find(".page"),dotLi;$(f).css("width",w*len);if(style=="dot"){var g=Math.ceil(len/e);var h='';for(var i=0;i<g;i++){h+='<li>‚óè</li>'}$(this).append('<ul class="dots">'+h+'</ul>');dotLi=$(this).find(".dots").children("li");$(dotLi).eq(0).addClass("active")}if(time>0){$(nextbtn).addClass("active");$(nextbtn).on("click",function(){if(flag>=time){return}if(time-flag<e){$(f).animate({left:-time*w},500);flag=time}else{$(f).animate({left:-(flag+e)*w},500);flag=flag+e}btn()});$(prevbtn).on("click",function(){if(flag<=0){return}if(flag-e<0){$(f).animate({left:0},500);flag=0}else{$(f).animate({left:-(flag-e)*w},500);flag=flag-e}btn()});if(style=="dot"){$(dotLi).on("click",function(){var a=$(dotLi).index($(this).parent().find(".active"));var b=$(dotLi).index($(this));if(a==b){return}var c=(b+1)*e;if(c>len){$(f).animate({left:-time*w},500);flag=time}else{$(f).animate({left:-(b*e)*w},1000);flag=b*e}btn()})}}function btn(){$(prevbtn).addClass("active");$(nextbtn).addClass("active");if(flag<=0){$(prevbtn).removeClass("active")}if(flag>=time){$(nextbtn).removeClass("active")}if(style=="number"){$(page).text(Math.ceil(flag/e)+1)}else if(style=="dot"){$(dotLi).eq(Math.ceil(flag/e)).addClass("active").siblings().removeClass("active")}}}});
